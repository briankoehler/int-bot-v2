// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Team {
  BLUE
  RED
}

model Summoner {
  puuid         String    @id
  name          String
  Stats         PlayerStats[]
  @@map("summoner")
}

model Match {
  matchId       String    @id @map("match_id")
  startTime     BigInt    @db.BigInt @map("start_time")
  duration      BigInt    @db.BigInt
  queue         String
  map           String
  version       String
  winningTeam   Team
  playerStats   PlayerStats[]
  @@map("match")
}

model PlayerStats {
  id            String    @id
  summoner      Summoner  @relation(fields: [puuid], references: [puuid])
  puuid         String
  match         Match     @relation(fields: [matchId], references: [matchId])
  matchId       String    @map("match_id")
  kills         Int
  deaths        Int
  assists       Int
  champion      String
  position      String
  team          Team
  @@map("player_stats")
}
